% Function to perform Caesar cipher encryption
% This function takes a message (string of lowercase letters) and a shift value (integer)
% and returns the encrypted message using the Caesar cipher method.
function encrypted_message = caesar_cipher(message, shift)
    
    % Initialize an empty string to store the encrypted message
    encrypted_message = ''; 
    
    % Loop through each character in the input message
    % 'i' goes from 1 to the length of the message (number of characters)
    for i = 1:length(message)
        
        % Get the ASCII value of the current character (i-th character in message)
        % The double() function converts the character to its ASCII code
        char_ascii = double(message(i)); 
        
        % Check if the character is a lowercase letter (from 'a' to 'z')
        % ASCII value for 'a' is 97 and for 'z' is 122
        if char_ascii >= 97 && char_ascii <= 122 
            
            % Shift the character's ASCII value by the shift amount
            % The 'mod' function is used to wrap around if the shift goes past 'z'
            % 'char_ascii - 97' shifts the letter to a 0-25 range (where 'a' is 0)
            % The 'mod' function keeps the shifted value within the range 0-25
            % Finally, add 97 to convert it back to the ASCII value of a lowercase letter
            shifted_char = mod(char_ascii - 97 + shift, 26) + 97; 
        else
            % If the character is not a lowercase letter, we do nothing to it
            % It could be a space, punctuation, etc.
            shifted_char = char_ascii;  % Keep the character as is
        end
        
        % Convert the shifted ASCII value back to a character
        % The char() function converts the ASCII value back to a character
        % Append this character to the encrypted_message string
        encrypted_message = [encrypted_message, char(shifted_char)];
    end
end

% Main Script
% This is where the user will interact with the program

% Prompt the user to input a message to be encrypted
% The input() function gets a string input from the user
message = input('Enter a message (lowercase letters only): ', 's');

% Prompt the user to input a shift value
% The input() function gets a number input from the user
% The shift value determines how much each letter will be shifted in the alphabet
shift = input('Enter a shift value (between 1 and 25): ');

% Check if the shift value is valid (must be between 1 and 25)
% If the shift value is not in this range, we display an error and stop the program
if shift < 1 || shift > 25
    error('Error: Shift value must be between 1 and 25.');
end

% Call the caesar_cipher function to encrypt the message
% We pass the user's message and shift value to the function
encrypted_message = caesar_cipher(message, shift);

% Display the original message (the one the user typed)
fprintf('Original message: %s\n', message);

% Display the encrypted message (the result of the Caesar cipher)
fprintf('Encrypted message: %s\n', encrypted_message);
